(function(){var n,e,t,o,r,i,u,c,a,d,l,w,f,s;e="kcljbbiddpoeaknnjaminoceoojdbikp",n="dkioigicbijecidbooccnhfafineggga",w=function(n,e,t){return document.addEventListener("click",function(o){var r;if(o.currentTarget&&o.currentTarget.activeElement&&"A"===o.currentTarget.activeElement.tagName){if(!(r=o.currentTarget.activeElement).dataset.appTarget)return o.preventDefault(),r.baseURI.toUpperCase().includes("/AUTH/")||r.href.toUpperCase().includes("/AUTH/")?n(r.href):t(r.href);switch(o.preventDefault(),r.dataset.appTarget){case"none":break;case"self":return n(r.href);case"blank":return e(r.href);case"browser":return t(r.href)}}})},l=function(n){document.firstElementChild.classList+=" desktopapp",n&&(document.firstElementChild.classList+=" "+n)},f=function(n){var e,t;for(t in e=chrome.app.window.getAll())if(n===e[t].contentWindow.location.href)return e[t].focus(),!1;return!0},o=function(n){var e,t,o,r,i,u,c,a;for(i in u=-1,c=-1,r=chrome.app.window.current()||chrome.app.window.getAll()[0],t=chrome.app.window.getAll(),e=[],r&&(u=(r.x||r.innerBounds.left)+20,c=(r.y||r.innerBounds.top)+20),t)(a=t[i])&&e.push({x:a.innerBounds.left,y:a.innerBounds.top});for(i in e.sort(function(n,e){return n.x<e.x?-1:n.x>e.x?1:0}),e)u===(o=e[i]).x&&console.log("increase"),u=u===o.x?o.x+20:u,c=c===o.y?o.y+20:c;return n({x:u=-1===u?null:u,y:c=-1===c?null:c})},i=function(n){var e;return decodeURIComponent(null!=(e=RegExp(n+"[^;]+").exec(document.cookie))?e.toString().replace(/^[^=]+./,""):void 0)},u=function(n){var e,t,o,r,i,u;return u=(i=-.15)<0?0:255,r=i<0?-1*i:i,o=n[0],t=n[1],e=n[2],[Math.round((u-o)*r)+o,Math.round((u-t)*r)+t,Math.round((u-e)*r)+e]},t=function(n){var e;return 1===(e=n.toString(16)).length?"0"+e:e},s=function(n){return"#"+t(n[0])+t(n[1])+t(n[2])},r=function(n){var e;return e={color:"#ebebeb",inactiveColor:"#f8f8f8"},new Promise(function(t){var o;return o=new URL(n),fetch(o.origin+"/walls/address:"+o.pathname.slice(1)).then(function(n){return n.json()}).then(function(n){return t({color:s(u(n.background.dominant_color)),inactiveColor:s(n.background.dominant_color)})})["catch"](function(){return t(e)})})},c=function(){return window.alert},a=function(){return window.confirm},d=function(){return window.prompt},function(){window.require=window.require||function(n){return console.log("Cannot load"+n+". The page should be loaded in NWJS app or some node environment"),function(){function n(){}return n}()},window.process=window.process||{cwd:function(){}},window.nw=window.nw||{App:{}},window.alert=c(),window.confirm=a(),window.prompt=d(),window.$desktopApp={},window.addEventListener("load",function(){var t,u,c,a,d,s,p,m,g;"undefined"!=typeof chrome&&null!==chrome&&null!=(s=chrome.runtime)&&"function"==typeof s.sendMessage&&s.sendMessage(e,{status:"loaded"}),"undefined"!=typeof chrome&&null!==chrome&&null!=(p=chrome.runtime)&&"function"==typeof p.sendMessage&&p.sendMessage(n,{status:"loaded"}),"undefined"!=typeof chrome&&null!==chrome&&null!=(m=chrome.runtime)&&null!=(g=m.onMessage)&&g.addListener(function(n){if(n.command){if("setMenu"===n.command)return nw.Window.get().menu=n.menu;if("actualSize"===n.command)return nw.Window.get().zoomLevel=0;if("zoomIn"===n.command)return nw.Window.get().zoomLevel++;if("zoomOut"===n.command)return nw.Window.get().zoomLevel--;if("fullScreen"===n.command)return nw.Window.get().toggleFullscreen()}}),"undefined"!=typeof Windows&&(w(t=function(n,e){return window.open(n,e||"_top")},function(n){return window.open(n,"_blank")},function(n){return Windows.System.Launcher.launchUriAsync(new Windows.Foundation.Uri(n))}),l()),u=!1,d=!1,a=!1,(c=i("ww_da"))&&"undefined"!==c?(u=!0,d="nwjs"===c,a="other"===c):((u=ww&&ww.device&&ww.device.desktopApp)||(u=document.documentElement.dataset.variant&&document.documentElement.dataset.variant.includes("desktopapp")),(a=ww&&ww.device&&ww.device.electron)||(a=document.documentElement.dataset.variant&&document.documentElement.dataset.variant.includes("electron")),(d=ww&&ww.device&&ww.device.nwjs)||(d=document.documentElement.dataset.variant&&document.documentElement.dataset.variant.includes("nwjs"))),u&&(d?(l("nwjs"),t=function(n,e){if(e&&"_top"!==e||(window.location.href=n),"_blank"===e)return nw.Window.open(n)},ww.navigateDesktopApp=t,w(t,function(n){if(f(n))return r(n).then(function(e){return o(function(t){var o;o={innerBounds:{width:1280,height:800,minWidth:400,minHeight:200,left:t.x,top:t.y},frame:{type:"chrome",color:e.color,inactiveColor:e.inactiveColor}},chrome.app.window.create(n,o)})})},function(n){return nw.Shell.openExternal(n)})):a&&w(t=function(n,e){if(e&&"_top"!==e||window.__macAppMsgCenter.bridge.navigate(n),"_blank"===e)return window.__macAppMsgCenter.bridge.openNewWindowInApp(n)},function(n){return window.__macAppMsgCenter.bridge.openNewWindowInApp(n)},function(n){return window.__macAppMsgCenter.bridge.openInBrowser(n)}))})}()}).call(this),function(){var n,e;n=function(n){var e;if(e=document.querySelector(n))return e.addEventListener("click",function(t){var o,r,i;if(t.preventDefault(),o=e.getAttribute("href"),i=window.electron.openNewWindow,(r=window.electron.openGoogleAuthUrlInBrowser)&&i){if(!o.includes("google_oauth2")||".google-button"!==n)return i(o);r(o)}})},e=function(){return n(".google-button"),n(".apple-button"),n(".office365-button"),n(".skoletube-button")},function(){var n;if(window.electron)("/auth/signup"===(n=window.location.pathname)||"/auth/login"===n)&&e()}()}.call(this),function(){}.call(this);